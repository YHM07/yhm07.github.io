---
layout: post
title:  "linux学习笔记五--数据同步rsync"
keywords: ""
description: ""
category: "Linux" 
tags: [rsync]
---

**@(linux)[rsync]**

## 数据同步 rsync
---


### 通过shell方式

**pull**

	rsync -avz -e 'ssh -p port' username@host:/path/to/somefile /path/to/dir

**push**

	rsync -avz /path/to/file -e 'ssh -p port' username@host:/path/to/dir

<!-- more -->

### 通过守护进程的方式传输数据 (daemon mode)

```bash
# pull 
	- rsync [option...] [USER@]HOST::SRC... [DEST]
	- rsync [option...] rsync://[USER@]HOST[:PORT]/SRC... [DEST]
# push 
	- rsync [option...] SRC... [USER@]HOST::DEST
	- rsync [option...] SRC... rsync://[USER@]HOST[:PORT]/DEST
```

option 
>
- -v, --verbose 详细模式输出,传输时的进度等信息
- -z, --compress 传输时进行压缩以提高传输效率,--compress-level=NUM指定压缩级别
- -r, --recursive 对子目录以递归模式,目录下所有文件
- -t, --times 保持文件时间信息
- -o, --owner 保持文件属主信息
- -p, --perms 保持文件权限
- -g, --groups 保持文件属组信息
- -P, --progress 显示同步的过程及传输时的进度等信息
- -a, --archive 归档模式,表示以递归方式传输文件,并保持所有文件属性,相当于-rtopgDl
- -D, --devices 保持设备文件信息
- -l, --links 保留软链接
- -e, --rsh=COMMAND 使用的信道协议,指定替代rsh=shell程序
- --exclude=PATTERN 指定排除不需要传输的文件模式

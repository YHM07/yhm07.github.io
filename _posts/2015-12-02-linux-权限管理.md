---
layout: post
title:  "linux学习笔记二--linux权限管理"
keywords: ""
description: ""
category: "linux" 
tags: [linux权限管理]
---


# 4.2 权限及权限管理 2015/11/1
@(linux)[linux权限管理]

<!-- more -->

## 权限管理 

### chown 改变文件属主
 
chown [options] USERNAME file,...
	* -R 修改目录及其内部文件的属主
	* --reference=/path/to/somefile file,...
	
chown [options] USERNAME:GRPNAME file,...

chown [options] USERNAME:GRPNAME file,...

chgrp [options] GRPNAME file,... 
	* -R 
	* --reference=/path/to/somefile file,...

### chmod 修改文件权限

chmod [options] MODE file,...
	* -R 
	* --reference=/path/to/somefile file,...
	
chmod [options] u/g/o/a=MOD file,...
chmod [options] u/g/o=MOD,u/g/o=MOD file,...

### 从用户登录的角度来说SHELL 类型

登陆式SHELL:
	* 正常终端登录
	* su - USERNAME
	* su -l USERNAME 

非登陆式SHELL:
	* su USERNAME 
	* 图形终端下打开命令窗口
	* 自动执行的SHELL脚本

bash配置文件
	* 全局配置
		- /etc/profile, 
		- /etc/profile.d/*.sh, 
		- /etc/bashrc
	* 个人配置
		- ~/.bash_profile, 
		- ~/.bashrc

profile 文件
	* 设定环境变量
	* 运行命令或脚本

bashrc 文件
	* 设定本地变量
	* 定义命令别名

登陆式SHELL如何读取配置文件
	- /etc/profile --> /etc/profile.d/*.sh --> ~/.bash_profile --> ~/.bashrc --> /etc/bashrc

非登陆式SHELL如何读取配置文件
	- ~/.bashrc --> /etc/bashrc --> /etc/profile.d/*.sh

## 管理及IO重定向

### 计算机部件

	* 运算器,控制器: CPU
	* 存储器: RAM
	* 输入输出设备
	* 程序: 指令和数据
	
1. 地址总线：内存寻址
2. 数据总数：传输数据
3. 控制总线：控制指令

### IO重定向

set -C: 禁止对已经存在文件使用覆盖重定向;强制覆盖输出,则使用 >|

set +C: 关闭上述功能

&>: 重定向标准输出或标准错误输出到同一文件


## 练习

1. 统计/usr/bin目录下的文件个数
	ls /usr/bin | wc -l 
2. 取出当前系统上所有用户的shell,要求每种shell只显示一次,并按顺序显示,(统计每种shell出现的次数)
	cat /etc/passwd | cut -d: -f7 | sort -u
	
	(cat /etc/passwd | cut -d: -f7 | awk '{s[$0]++}END{for(i in s) { print i"\t" s[i] | "sort -k2" ;}}')
3. 如何显示/var/log目录下每个文件的内容类型
	file /var/log/*
4. 取出/etc/inittab文件的第6行
	head -n6 /etc/inittab | tail -n1
5. 取出/etc/passwd文件中倒数第9个用户的用户名和shell,显示到屏幕并保存到/tmp/user文件
	tail -n9 /etc/passwd | head -n1 | cut -d: -f1,7 | tee /tmp/user
6. 显示/etc目录下所有以pa开头的文件,并统计个数
	ls /etc/ | grep '^pa'

	ls -d /etc/pa*

7. 不适用文本编辑器,将alias cls="clear" 一行内容添加至用户的.bashrc文件中.
	echo 'alias cls="clear"' >> ~/.bashrc 


